@* Index *@
@using Klimaci.Core.Paging
@using Klimaci.Entity
@model PagedResult<UrlRedirect>
@{
    ViewData["Title"] = "Yönlendirmeler"; Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}
<div class="container py-3">
    <h1>Yönlendirmeler</h1>
    @await Html.PartialAsync("~/Areas/Admin/Views/Shared/_AdminAlerts.cshtml")
    <div class="d-flex mb-2"><a class="btn btn-success ms-auto" asp-action="Create">Yeni</a></div>
    <table class="table table-striped">
        <thead><tr><th>Eski</th><th>Yeni</th><th>Kod</th><th>Yayın</th><th class="text-end">İşlem</th></tr></thead>
        <tbody>
            @foreach (var r in Model.Items)
            {
                <tr>
                    <td>@r.OldPath</td>
                    <td>@r.NewPath</td>
                    <td>@r.StatusCode</td>
                    <td><span class="badge @(r.IsPublished?"bg-success":"bg-secondary")">@(r.IsPublished ? "Açık" : "Kapalı")</span></td>
                    <td class="text-end">
                        <a class="btn btn-sm btn-outline-primary" asp-action="Edit" asp-route-id="@r.Id">Düzenle</a>
                        <form method="post" asp-action="Delete" class="d-inline">
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="id" value="@r.Id" /><button class="btn btn-sm btn-outline-danger" onclick="return confirm('Silinsin mi?')">Sil</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
